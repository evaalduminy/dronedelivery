#include <iostream>
#include <stack>
#include <queue>
#include <vector>
#include <map>
using namespace std;

// Ø¯Ø§Ù„Ø© Ù„Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù„ÙˆØ­Ø©
void printBoard(const vector<int>& board, const string& algorithm) {
    cout << "\n" << algorithm << ":" << endl;
    cout << "â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”" << endl;
    for (int i = 0; i < 9; i += 3) {
        cout << "â”‚";
        for (int j = 0; j < 3; j++) {
            if (board[i+j] == 0) cout << "   â”‚";
            else cout << " " << board[i+j] << " â”‚";
        }
        if (i < 6) cout << "\nâ”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤" << endl;
    }
    cout << "\nâ””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜" << endl;
}

// Ø¯Ø§Ù„Ø© Ù„Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø©
vector<vector<int>> getPossibleMoves(const vector<int>& board) {
    vector<vector<int>> moves;
    
    // Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆÙ‚Ø¹ Ø§Ù„ÙØ±Ø§Øº (0)
    int zeroPos = -1;
    for (int i = 0; i < 9; i++) {
        if (board[i] == 0) {
            zeroPos = i;
            break;
        }
    }
    
    int row = zeroPos / 3;
    int col = zeroPos % 3;
    
    // Ø­Ø±Ùƒ Ù„Ø£Ø¹Ù„Ù‰
    if (row > 0) {
        vector<int> newBoard = board;
        swap(newBoard[zeroPos], newBoard[zeroPos - 3]);
        moves.push_back(newBoard);
    }
    
    // Ø­Ø±Ùƒ Ù„Ø£Ø³ÙÙ„
    if (row < 2) {
        vector<int> newBoard = board;
        swap(newBoard[zeroPos], newBoard[zeroPos + 3]);
        moves.push_back(newBoard);
    }
    
    // Ø­Ø±Ùƒ Ù„Ù„ÙŠØ³Ø§Ø±
    if (col > 0) {
        vector<int> newBoard = board;
        swap(newBoard[zeroPos], newBoard[zeroPos - 1]);
        moves.push_back(newBoard);
    }
    
    // Ø­Ø±Ùƒ Ù„Ù„ÙŠÙ…ÙŠÙ†
    if (col < 2) {
        vector<int> newBoard = board;
        swap(newBoard[zeroPos], newBoard[zeroPos + 1]);
        moves.push_back(newBoard);
    }
    
    return moves;
}

// DFS Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¹Ù…Ù‚
void runDFS(const vector<int>& start, const vector<int>& goal) {
    cout << "\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" << endl;
    cout << "   ØªØ´ØºÙŠÙ„ DFS (Depth-First)   " << endl;
    cout << "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" << endl;
    
    stack<vector<int>> s;
    s.push(start);
    
    int visited = 0;
    int maxSteps = 10; // Ù„Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø·
    
    while (!s.empty() && visited < maxSteps) {
        vector<int> current = s.top();
        s.pop();
        visited++;
        
        cout << "\nØ§Ù„Ø®Ø·ÙˆØ© " << visited << " Ù…Ù† DFS:" << endl;
        printBoard(current, "Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©");
        
        // Ø¥Ø°Ø§ ÙˆØ¬Ø¯Ù†Ø§ Ø§Ù„Ø­Ù„
        if (current == goal) {
            cout << "\nğŸ‰ DFS ÙˆØ¬Ø¯ Ø§Ù„Ø­Ù„ ÙÙŠ " << visited << " Ø®Ø·ÙˆØ©!" << endl;
            return;
        }
        
        // Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø©
        vector<vector<int>> moves = getPossibleMoves(current);
        
        // Ø£Ø¶ÙÙ‡Ø§ Ù„Ù„Ø³ØªØ§Ùƒ (Ø¨Ø§Ù„Ø¹ÙƒØ³ Ù„Ø£Ù† Stack ÙŠØ¹ÙƒØ³ Ø§Ù„ØªØ±ØªÙŠØ¨)
        for (auto it = moves.rbegin(); it != moves.rend(); ++it) {
            s.push(*it);
        }
        
        cout << "Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª ÙÙŠ Ø§Ù„Ø³ØªØ§Ùƒ: " << s.size() << endl;
    }
    
    cout << "\nâš ï¸ DFS ÙØ­Øµ " << visited << " Ø­Ø§Ù„Ø© ÙˆÙ„Ù… ÙŠØ¬Ø¯ Ø§Ù„Ø­Ù„" << endl;
    cout << "(Ù‚Ø¯ ÙŠÙƒÙˆÙ† ÙÙŠ ÙØ±Ø¹ Ø®Ø§Ø·Ø¦ Ø£Ùˆ ÙŠØ­ØªØ§Ø¬ Ø¹Ù…Ù‚ Ø£ÙƒØ¨Ø±)" << endl;
}

// BFS Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¹Ø±Ø¶
void runBFS(const vector<int>& start, const vector<int>& goal) {
    cout << "\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" << endl;
    cout << "  ØªØ´ØºÙŠÙ„ BFS (Breadth-First)  " << endl;
    cout << "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" << endl;
    
    queue<vector<int>> q;
    q.push(start);
    
    int visited = 0;
    int level = 0;
    
    while (!q.empty()) {
        int size = q.size();
        cout << "\nğŸ“Š Ø§Ù„Ù…Ø³ØªÙˆÙ‰ " << level << ": " << size << " Ø­Ø§Ù„Ø©" << endl;
        level++;
        
        for (int i = 0; i < size; i++) {
            vector<int> current = q.front();
            q.pop();
            visited++;
            
            if (visited <= 5) { // Ù†Ø¹Ø±Ø¶ Ø£ÙˆÙ„ 5 Ø­Ø§Ù„Ø§Øª ÙÙ‚Ø·
                cout << "\nØ§Ù„Ø­Ø§Ù„Ø© " << visited << " ÙÙŠ BFS:" << endl;
                printBoard(current, "ÙØ­Øµ");
            }
            
            // Ø¥Ø°Ø§ ÙˆØ¬Ø¯Ù†Ø§ Ø§Ù„Ø­Ù„
            if (current == goal) {
                cout << "\nğŸ‰ BFS ÙˆØ¬Ø¯ Ø§Ù„Ø­Ù„ ÙÙŠ " << visited << " Ø®Ø·ÙˆØ©!" << endl;
                cout << "âœ¨ Ø§Ù„Ø­Ù„ Ø§Ù„Ø£Ù…Ø«Ù„: " << (level-1) << " Ø­Ø±ÙƒØ©" << endl;
                return;
            }
            
            // Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø©
            vector<vector<int>> moves = getPossibleMoves(current);
            
            // Ø£Ø¶ÙÙ‡Ø§ Ù„Ù„Ø·Ø§Ø¨ÙˆØ±
            for (const auto& move : moves) {
                q.push(move);
            }
        }
    }
}

// Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
void compareAlgorithms() {
    cout << "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ" << endl;
    cout << "    Ù…Ù‚Ø§Ø±Ù†Ø© DFS vs BFS Ø¹Ù„Ù‰ 8-Puzzle   " << endl;
    cout << "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ" << endl;
    
    // Ø­Ø§Ù„Ø© Ø³Ù‡Ù„Ø©
    vector<int> easyStart = {1,2,3,4,0,5,6,7,8};
    vector<int> easyGoal = {1,2,3,4,5,0,6,7,8};
    
    cout << "\nØ§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ø³Ù‡Ù„:" << endl;
    printBoard(easyStart, "Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©");
    printBoard(easyGoal, "Ø§Ù„Ù‡Ø¯Ù");
    
    runDFS(easyStart, easyGoal);
    runBFS(easyStart, easyGoal);
    
    // Ø­Ø§Ù„Ø© Ø£ØµØ¹Ø¨
    vector<int> hardStart = {1,0,3,4,2,5,6,7,8};
    vector<int> hardGoal = {1,2,3,4,5,0,6,7,8};
    
    cout << "\n\nØ§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ø£ØµØ¹Ø¨:" << endl;
    printBoard(hardStart, "Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©");
    printBoard(hardGoal, "Ø§Ù„Ù‡Ø¯Ù");
    
    runBFS(hardStart, hardGoal); // BFS Ø£ÙØ¶Ù„ Ù„Ù„Ø­Ù„ Ø§Ù„Ø£Ù…Ø«Ù„
}

// Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
void printComparisonTable() {
    cout << "\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" << endl;
    cout << "          Ø¬Ø¯ÙˆÙ„ Ù…Ù‚Ø§Ø±Ù†Ø© DFS vs BFS        " << endl;
    cout << "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" << endl;
    
    cout << "\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”" << endl;
    cout << "â”‚   Ø§Ù„Ù…Ø¹ÙŠØ§Ø±    â”‚      DFS        â”‚      BFS        â”‚" << endl;
    cout << "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤" << endl;
    cout << "â”‚   Ø§Ù„Ø¨Ù†ÙŠØ©     â”‚     Stack       â”‚     Queue       â”‚" << endl;
    cout << "â”‚              â”‚ (Ø¢Ø®Ø± ÙŠØ¯Ø®Ù„ Ø£ÙˆÙ„ ÙŠØ®Ø±Ø¬)â”‚(Ø£ÙˆÙ„ ÙŠØ¯Ø®Ù„ Ø£ÙˆÙ„ ÙŠØ®Ø±Ø¬)â”‚" << endl;
    cout << "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤" << endl;
    cout << "â”‚   Ø§Ù„Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© â”‚ ØªØ¹Ù…Ù‚ Ø£ÙˆÙ„Ø§Ù‹     â”‚ ØªØ¹Ø±Ø¶ Ø£ÙˆÙ„Ø§Ù‹      â”‚" << endl;
    cout << "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤" << endl;
    cout << "â”‚   Ø§Ù„Ø­Ù„ Ø§Ù„Ø£Ù…Ø«Ù„ â”‚ âŒ Ù„Ø§ ÙŠØ¶Ù…Ù†      â”‚ âœ… ÙŠØ¶Ù…Ù†         â”‚" << endl;
    cout << "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤" << endl;
    cout << "â”‚   Ø§Ù„ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ø²Ù…Ù†ÙŠ â”‚ O(b^m)        â”‚ O(b^d)         â”‚" << endl;
    cout << "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤" << endl;
    cout << "â”‚   Ø§Ù„ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ù…ÙƒØ§Ù†ÙŠâ”‚ O(b*m)        â”‚ O(b^d)         â”‚" << endl;
    cout << "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤" << endl;
    cout << "â”‚   Ù…ÙŠØ²Ø©       â”‚ Ø°Ø§ÙƒØ±Ø© Ø£Ù‚Ù„       â”‚ Ø­Ù„ Ø£Ù…Ø«Ù„         â”‚" << endl;
    cout << "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤" << endl;
    cout << "â”‚   Ø¹ÙŠØ¨        â”‚ Ù‚Ø¯ ÙŠØ¯ÙˆØ± ÙÙŠ Ø­Ù„Ù‚Ø©â”‚ ÙŠØ³ØªÙ‡Ù„Ùƒ Ø°Ø§ÙƒØ±Ø© ÙƒØ¨ÙŠØ±Ø©â”‚" << endl;
    cout << "â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜" << endl;
    
    cout << "\nØ­ÙŠØ«:" << endl;
    cout << "b = Ø¹Ø§Ù…Ù„ Ø§Ù„ØªÙØ±Ø¹ (Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø±ÙƒØ§Øª)" << endl;
    cout << "d = Ø¹Ù…Ù‚ Ø§Ù„Ø­Ù„ Ø§Ù„Ø£Ù…Ø«Ù„" << endl;
    cout << "m = Ø£Ù‚ØµÙ‰ Ø¹Ù…Ù‚ Ù„Ù„Ø´Ø¬Ø±Ø©" << endl;
}

int main() {
    // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù…Ø«Ù„Ø©
    compareAlgorithms();
    
    // Ø¹Ø±Ø¶ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
    printComparisonTable();
    
    cout << "\n\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—" << endl;
    cout << "â•‘   Ø§Ù„Ø®Ù„Ø§ØµØ©:                        â•‘" << endl;
    cout << "â•‘   â€¢ Ø§Ø³ØªØ®Ø¯Ù… DFS Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø°Ø§ÙƒØ±Ø©   â•‘" << endl;
    cout << "â•‘     Ù…Ø­Ø¯ÙˆØ¯Ø© ÙˆØ§Ù„Ø­Ù„ Ø¹Ù…ÙŠÙ‚             â•‘" << endl;
    cout << "â•‘   â€¢ Ø§Ø³ØªØ®Ø¯Ù… BFS Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø§Ù„Ø­Ù„      â•‘" << endl;
    cout << "â•‘     Ø§Ù„Ø£Ù…Ø«Ù„ ÙˆÙ„Ø§ ØªÙ‡ØªÙ… Ø¨Ø§Ù„Ø°Ø§ÙƒØ±Ø©      â•‘" << endl;
    cout << "â•‘   â€¢ A* Ù‡Ùˆ Ø§Ù„Ø£ÙØ¶Ù„ Ø¹Ù…ÙˆÙ…Ø§Ù‹ Ù„Ø£Ù†Ù‡      â•‘" << endl;
    cout << "â•‘     ÙŠØ¬Ù…Ø¹ Ø§Ù„Ù…Ø²Ø§ÙŠØ§                   â•‘" << endl;
    cout << "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" << endl;
    
    return 0;
}